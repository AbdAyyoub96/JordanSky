@model JordanSky.Entity.Booking_package
@{
    ViewBag.Title = "Book";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<br /><br /><br /><br />





<section id="appointment" class="appointment section-bg">
    <div class="container" data-aos="fade-up">

        <div class="section-title">
            <h2>احجز رحلتك</h2>
        </div>
        <div class="php-email-form" data-aos="fade-up" data-aos-delay="100">
            <div class="row">
                <div class="col-md-6 form-group">
                    <input type="text" name="Name" class="form-control" id="txtName" placeholder="الاسم " required="">
                </div>
                <div class="col-md-6 form-group mt-3 mt-md-0">
                    <input type="text" class="form-control" id="txtPhone" name="Phone" placeholder="رقم الهاتف" required="">
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 form-group">
                    <span>اختر نقطة الانطلاق</span>
                    <select id="ddlStart" name="Start_Id" class="form-control">
                        @foreach (var item in ViewBag.Start)
                        {
                            <option value="@item.Id">@item.Name</option>
                        }
                    </select>
                </div>
                <div class="col-md-4 form-group mt-3 mt-md-0">
                    <span>عدد الاشخاص</span>
                    <input type="number" class="form-control " id="No_Pepole"  required="">
                </div>
                <div class="col-md-4 form-group mt-3 mt-md-0">
                    <span>عدد الأطفال</span>
                    <input type="number" class="form-control " id="No_Child"  required="">
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 form-group">
                    <textarea rows="5" type="" name="Details" class="form-control" id="txtDesc" placeholder="ملاحظات" required=""></textarea>
                </div>
            </div>
            <div class="text-center">
                <button type="submit" onclick="btnSave(@ViewBag.ID)">احجز الآن</button>

            </div>
        </div>
    </div>
</section>
<script>
    function btnSave(id) {
        debugger;
        var obj = {};
        obj.Name = $("#txtName").val();
        obj.Phone = $("#txtPhone").val();
        obj.No_Pepole = $("#No_Pepole").val();
        obj.No_Child = $("#No_Child").val();
        obj.Start_Id = $("#ddlStart").val();
        obj.Details = $("#txtDesc").val();
        obj.Package_id = id;
        $.ajax({
            type: "Post",
            url: "/Internal_Package/Book",
            data: obj,
            dataType: "json",
            success: function (data) {
                debugger
                if (data == true) {

                    window.location = '@Url.Action("DetailsPackages/Id", "Internal_Package")'.replace("Id", id)
                }
                else {
                    $("#lblError").show();

                }
            },
        });

    }
</script>


